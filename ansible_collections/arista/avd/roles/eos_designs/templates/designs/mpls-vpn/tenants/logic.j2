{# Setting overlay_rd_admin_subfield #}
{% set tenants_data.overlay_rd_admin_subfield = switch.router_id %}
{% if overlay_rd_type is defined and overlay_rd_type is not none %}
{%     if overlay_rd_type.admin_subfield is arista.avd.defined %}
{%         if overlay_rd_type.admin_subfield == "bgp_as" %}
{%             set tenants_data.overlay_rd_admin_subfield = switch.bgp_as %}
{%         elif overlay_rd_type.admin_subfield | ansible.netcommon.ipaddr %}
{%             set tenants_data.overlay_rd_admin_subfield = overlay_rd_type.admin_subfield %}
{%         elif overlay_rd_type.admin_subfield is number and
                overlay_rd_type.admin_subfield >= 0 and
                overlay_rd_type.admin_subfield <= 4294967295 %}
{%             set tenants_data.overlay_rd_admin_subfield = overlay_rd_type.admin_subfield %}
{%         endif %}
{%     endif %}
{% endif %}
{# Setting overlay_rt_admin_subfield #}
{% set tenants_data.overlay_rt_admin_subfield = false %}
{% if overlay_rt_type is defined and overlay_rt_type is not none %}
{%     if overlay_rt_type.admin_subfield is arista.avd.defined %}
{%         if overlay_rt_type.admin_subfield == "bgp_as" %}
{%             set tenants_data.overlay_rt_admin_subfield = switch.bgp_as %}
{%         elif overlay_rt_type.admin_subfield is number and
                overlay_rt_type.admin_subfield >= 0 and
                overlay_rt_type.admin_subfield <= 4294967295 %}
{%             set tenants_data.overlay_rt_admin_subfield = overlay_rt_type.admin_subfield %}
{%         endif %}
{%     endif %}
{% endif %}
